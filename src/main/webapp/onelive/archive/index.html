<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="OneLive is an interactive webinar series done every weekend with the
    experts in their fields.">
    <meta name="author" content="Sustainable Education Foundation">
    <meta property="og:image" content="images/header-onelive.svg">
    <title>OneLive | Sustainable Education Foundation</title>
    <!-- Favicon -->
    <link href="/assets/img/brand/favicon.png" rel="icon" type="image/png">
    <!-- Icons -->
    <link href="/assets/vendor/nucleo/css/nucleo.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" rel="stylesheet">
    <!-- Argon CSS -->
    <link type="text/css" href="/assets/css/argon.css?v=1.0.1" rel="stylesheet">
    <!-- global CSS -->
    <link type="text/css" href="/assets/css/global-custom.css" rel="stylesheet">
    <!-- archive CSS -->
    <link type="text/css" href="style.css" rel="stylesheet">

</head>

<body>

<main>
    <!--main content goes here-->
    <section style="background: url('../images/header-onelive.svg') right bottom no-repeat; height: 80vh">
        <!--Navbar is placed here to align the background image correctly-->
        <div id="navbar"></div>
        <div class="container">
            <h1 class="mt-5 text-onelive" style="font-size: 3.3rem; line-height: 1.5;"><span
                    class="font-weight-700">ONE</span>
                LIVE</h1>
            <div class="col-lg-6 px-0 text-left">
                <br class="mt-auto mb-auto">"OneLive" is an interactive webinar series done every weekend with the
                experts in their fields.
                "OneLive" is a trademark program of SEF with the vision to expand the knowledge of Sri Lankan
                students and it will allow you to interact with the speaker via asking questions live.</br></p>
            </div>
        </div>
    </section>

    <section class="section bg-secondary">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-9 text-center">
                    <h1 class="mb-0 text-onelive">Take a look at our past</h1>
                    <p class="display-3 text-onelive font-weight-bolder">One Lives</p>
                </div>
            </div>
            <div class="row" id="youtube-videos">
                <!--youtube video goes here-->
            </div>
            <div class="row justify-content-center mb-md-5">
                <div class="col-9 text-center">
                    <a class="btn btn-onelive text-uppercase">See more past onelives</a>
                </div>
            </div>
        </div>
    </section>

</main>

<footer class="footer">
    <div id="footer"></div>
    <!--footer goes here -->
</footer>
<!-- to use the dynamic footer, use this instead of above tag => *<div id="footer"></div>* -->
</body>

<!-- Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/esm/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.10.4/headroom.min.js"></script>
<!-- Optional JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.3/nouislider.min.js"></script>
<!-- Argon JS -->
<script src="/assets/js/argon.js?v=1.0.1"></script>
<script src="/assets/js/global-custom-js.js"></script>
<!--Mustache.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"></script>
<!-- Script for static navbar and footer -->
<script src="/assets/js/navigation.js"></script>
<script src="/assets/js/functions.js"></script>

<script>
    $(function () {
        loadNavAndFooter('/assets/content/static');  //relative path to content directory
        loadYoutubeVideos();
    });

    //function to load youtube videos
    function loadYoutubeVideos() {
        $.ajax({
            type: 'get',
            url: 'https://sef-dataholder.herokuapp.com/youtube/onelive',
            dataType: 'json',
            success: function (data) {
                // Slice if the description if it is very long
                data.items.forEach((item) => {
                    const snippet = item.snippet;
                    if (snippet.description.length > 100) {
                        snippet.description = snippet.description.slice(0, 80) + "...";
                    }
                });
                //mustache render
                let renderedData = Mustache.render(
                    $('#template-youtube-videos').html(), {items: data.items});
                $('#youtube-videos').html(renderedData);
            }
        });
    }
</script>

<script type="text/html"
        id="template-youtube-videos">
    {{#items}}
    <div class="col-md-4 mb-5">
        <a href="https://www.youtube.com/watch?v={{snippet.resourceId.videoId}}"
           target="_blank">
            <div class="card shadow youtube-videos mb-4">
                <img src="{{snippet.thumbnails.medium.url}}"
                     alt="Rounded image"
                     class="img-fluid rounded shadow img-full">
                <div class="card-body">
                    <h6>{{snippet.title}}</h6>
                    <p>{{snippet.description}}</p>
                </div>
            </div>
        </a>
    </div>
    {{/items}}
</script>

</html>

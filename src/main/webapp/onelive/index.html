<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="OneLive is an interactive webinar series done every weekend with the
    experts in their fields.">
    <meta name="author" content="Sustainable Education Foundation">
    <meta property="og:image" content="images/header-onelive.svg">
    <title>OneLive | Sustainable Education Foundation</title>
    <!-- Favicon -->
    <link href="../assets/img/brand/favicon.png" rel="icon" type="image/png">
    <!-- Icons -->
    <link href="../assets/vendor/nucleo/css/nucleo.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" rel="stylesheet">
    <!-- Argon CSS -->
    <link type="text/css" href="../assets/css/argon.css?v=1.0.1" rel="stylesheet">
    <!-- global CSS -->
    <link type="text/css" href="../assets/css/global-custom.css" rel="stylesheet">
    <!-- onelive CSS -->
    <link type="text/css" href="styles.css" rel="stylesheet">

</head>

<body>

<main>
    <!--main content goes here-->
    <section style="background: url('images/header-onelive.svg') right bottom no-repeat; height: 100vh">
        <!--Navbar is placed here to align the background image correctly-->
        <div id="navbar"></div>
        <div class="container">
            <h1 class="mt-5 text-onelive" style="font-size: 3.3rem; line-height: 1.5;"><span
                    class="font-weight-700">ONE</span>
                LIVE</h1>
            <div class="col-lg-6 px-0 text-left">
                <br class="mt-auto mb-auto">"OneLive" is an interactive webinar series done every weekend with the
                experts in their fields.
                "OneLive" is a trademark program of SEF with the vision to expand the knowledge of Sri Lankan
                students and it will allow you to interact with the speaker via asking questions live.</br></p>
                <a class="btn btn-onelive text-uppercase" href="#past-onelives">Learn more</a>
            </div>
        </div>
    </section>

    <!--  upcoming events section  -->
    <section class="section section-secondary mb-0 pb-100" id="section-events">
        <div class="container">
            <div class="row" id="upcoming-events">
            </div>
        </div>
    </section>

    <section class="section bg-secondary">
        <div id="past-onelives" class="container">
            <div class="row justify-content-center">
                <div class="col-9 text-center">
                    <h1 class="mb-0 text-onelive">Take a look at our past</h1>
                    <p class="display-3 text-onelive font-weight-bolder">One Lives</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <a href="https://www.facebook.com/sustainableeducationfoundation/videos/vb.1833231326936705/338708860279593/?type=2&theater" target="_blank">
                        <img src="images/banner-2.png" class="img-fluid shadow rounded mb-md-4">
                        <h5 class="text-uppercase">international research council speaker series</h5>
                        <p>Dr. Hasini Jayathilaka</p>
                    </a>
                </div>
                <div class="col-md-4">
                    <a href="https://www.youtube.com/watch?v=bnKx-1rnEhI" target="_blank">
                        <img src="images/banner-3.png" class="img-fluid shadow rounded mb-md-4">
                        <h5 class="text-uppercase">organic user interfaces nonflat, flexible, and ...</h5>
                        <p>Lahiru Maramba</p>
                    </a>
                </div>
                <div class="col-md-4">
                    <a href="https://p-upload.facebook.com/sustainableeducationfoundation/videos/506389346839762/" target="_blank">
                        <img src="images/banner-1.png" class="img-fluid shadow rounded mb-md-4">
                        <h5 class="text-uppercase">Future-proof - what to learn for the future and how?</h5>
                        <p>Sohan Darmaraja</p>
                    </a>
                </div>
            </div>
            <div class="row justify-content-center mb-md-5">
                <div class="col-9 text-center">
                    <a href="https://www.facebook.com/pg/sustainableeducationfoundation/events/?ref=page_internal"
                       target="_blank" class="btn btn-onelive text-uppercase">See upcoming events</a>
                </div>
            </div>
        </div>
        <img src="images/Asset%205.svg">
    </section>

    <section class="section pb-0 bg-gradient-white">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-9 text-center">
                    <p class="display-3 text-onelive font-weight-bolder text-uppercase">Speakers</p>
                </div>
            </div>
            <div class="row justify-content-center">
                <!--Profile cards goes here-->
                <div id="teamContent"></div>

                <button id="btnShowMore" class="btn btn-link btn-outline-white btn-info">SEE MORE</button>
            </div>
        </div>
    </section>

    <section class="section faq" style="background-color: #f8fdff">
        <div class="container">
            <h1 class="mb-0 text-onelive font-weight-bold text-center">Frequently Asked Questions</h1>
            <!--FAQ Accordion-->
            <div class="accordion">
                <div class="row">
                    <div class="col-md-12 ml-auto">
                        <div class="accordion my-3" id="accordion-1">
                            <div class="py-3 card-toggle qa-card">
                                <div class="" id="heading-1">
                                    <div
                                            class="text-dark text-left collapsed panel question"
                                            data-toggle="collapse"
                                            data-target="#collapse-1"
                                            aria-expanded="false"
                                            aria-controls="collapse-1">
                                        <div class="question-heading">
                                            Do you have to live abroad to be a speaker?
                                        </div>
                                        <div class="text-primary collapse-sign">
                                            <i class="plusMinusSign fa fa-plus float-right"></i>
                                        </div>
                                    </div>
                                </div>
                                <div
                                        id="collapse-1"
                                        class="collapse"
                                        aria-labelledby="heading-1"
                                        data-parent="#accordion-1">
                                    <div class="card-body opacity-8">
                                        No, Anyone can become a speaker. Please do reach out to us. More the
                                        merrier.
                                    </div>
                                </div>
                            </div>
                            <div class="py-3 card-toggle qa-card">
                                <div class="" id="heading-2">
                                    <div
                                            class="text-dark collapsed panel question"
                                            data-toggle="collapse"
                                            data-target="#collapse-2"
                                            aria-expanded="false"
                                            aria-controls="collapse-2">
                                        <div class="question-heading">
                                            do you have to be a sri lankan to be a speaker?
                                        </div>
                                        <div class="text-primary collapse-sign"><i
                                                class="plusMinusSign fa fa-plus float-right"></i></div>
                                    </div>
                                </div>
                                <div
                                        id="collapse-2"
                                        class="collapse"
                                        aria-labelledby="heading-2"
                                        data-parent="#accordion-1">
                                    <div class="card-body opacity-8 text-left">
                                        No, Anyone can become a speaker. Please do reach out to us. We are
                                        more than happy to get foreign speaker.
                                    </div>
                                </div>
                            </div>
                            <div class="py-3 card-toggle qa-card">
                                <div class="" id="heading-3">
                                    <div
                                            class="text-dark collapsed panel question"
                                            data-toggle="collapse"
                                            data-target="#collapse-3"
                                            aria-expanded="false"
                                            aria-controls="collapse-3">
                                        <div class="question-heading">
                                            what is the cost of the program?
                                        </div>
                                        <div class="text-primary collapse-sign"><i
                                                class="plusMinusSign fa fa-plus float-right"></i></div>
                                    </div>
                                </div>
                                <div
                                        id="collapse-3"
                                        class="collapse"
                                        aria-labelledby="heading-3"
                                        data-parent="#accordion-1">
                                    <div class="card-body opacity-8 text-justify">
                                        Onelive is a free program.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--FAQ Accordion-->
        </div>
    </section>

    <section class="mt-5">
        <div class="container"
             style="background: url('images/Asset 4.svg') no-repeat center; background-size: 50%">
            <div class="row align-items-center">
                <div class="col-md-4 mt-md-5">
                    <img src="images/Asset%208.svg">
                </div>
                <div class="col-md-6">
                    <h1 class="mb-0 text-darker font-weight-lighter">Be a OneLive speaker</h1>
                    <p class="text-darker">We are always on the look for exceptional speakers</p>
                    <a class="btn btn-onelive text-uppercase" href="mailto:sustainableedufoundation@gmail.com">apply</a>
                </div>
            </div>
        </div>
    </section>

    <section class="bg-secondary pt-5">
        <div class="container">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-4">
                    <h1 class="mb-0 text-darker font-weight-lighter">Recommend a speaker</h1>
                    <p class="text-darker">Do you know an exceptional speaker your friends would like to hear from?</p>
                    <a class="btn btn-onelive text-uppercase" href="mailto:sustainableedufoundation@gmail.com">Refer now</a>
                </div>
                <div class="col-md-8">
                    <img src="images/Asset%202.svg">
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="footer">
    <div id="footer"></div>
    <!--footer goes here -->
</footer>
<!-- to use the dynamic footer, use this instead of above tag => *<div id="footer"></div>* -->
</body>

<!-- Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/esm/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.10.4/headroom.min.js"></script>
<!-- Optional JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.0.3/nouislider.min.js"></script>
<!-- Argon JS -->
<script src="/assets/js/argon.js?v=1.0.1"></script>
<script src="/assets/js/global-custom-js.js"></script>
<!--Mustache.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"></script>
<!-- Script for static navbar and footer -->
<script src="/assets/js/navigation.js"></script>
<script src="/assets/js/functions.js"></script>

<script type="text/html" id="templateTeam">
    <div class="row">
        {{#data}}
        <div class="col-md-3 col-lg-3 mb-5">
            <div class="px-4">
                <div class="hover-profile-card">
                    <img src="/assets/img/profiles/{{image}}"
                         class="rounded-circle img-center img-fluid shadow shadow-lg--hover imgHover"
                    >
                    <div class="imgIcon">
                        <a href="{{linkedin}}" class="btn btn-default btn-icon-only rounded-circle">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
                <div class="pt-4 text-center">
                    <h5 class="title">
                        <span class="d-block mb-1">{{name}}</span>
                        <!--                        <small class="h6 text-muted">{{city}}</small>-->
                    </h5>
                </div>
            </div>
        </div>
        {{/data}}
    </div>
</script>

<script id="upcoming-events-template" type="text/html">
    <div class="col-md-10 offset-1">
        <h3>Upcoming</h3>
    </div>

    {{#data}}
    <div class="col-md-10 offset-1">
        <a href="{{facebookLink}}" target="_blank">
            <div class="card card-event shadow shadow-lg--hover mb-1 text-body">
                <div class="card-body">
                    <span class="h5 mr-1 card-event-date">{{date}}</span>
                    <span class="small text-muted mr-4 text-uppercase">{{month}}, {{day}}</span>
                    <span class="mr-5"> {{startTime}} - {{endTime}}</span>
                    <span class="font-weight-bold ml-1">{{summary}}</span>
                </div>
            </div>
        </a>
    </div>
    {{/data}}
</script>

<script>
    $(function () {
        loadNavAndFooter('/assets/content/static');  //relative path to content directory
        loadUpcomingEvents(); //load upcoming events
        loadProfiles(); // load profiles
        loadFaqComponent();
    });

    //function to load upcoming events
    function loadUpcomingEvents() {
        $.ajax({
            type: 'GET',
            url: 'https://sef-dataholder.herokuapp.com/calendar/onelive',
            dataType: 'json',
            success: function (payload) {
                if (payload.items == null) {
                    $("#section-events").hide();
                } else {
                    for (let i = 0; i < payload.items.length; i++) {
                        //to get img link (optional)
                        /*let fileId = payload.items[i].attachments[0].fileId;
                        payload.items[i].imgLink = "https://drive.google.com/uc?export=view&id=" + fileId;*/

                        //get fb link and remove it from description (split the part of the description where the fb link is added)
                        let description = payload.items[i].description;
                        payload.items[i].facebookLink = description.substring(description.lastIndexOf('<a href') + 9, description.lastIndexOf('" id='));
                        payload.items[i].description = description.substring(0, description.lastIndexOf('<a href'));
                        //get date & time of the event
                        let start = new Date(payload.items[i].start.dateTime);
                        let end = new Date(payload.items[i].end.dateTime);
                        payload.items[i].day = start.toLocaleDateString([], {weekday: 'short'});
                        payload.items[i].month = start.toLocaleDateString([], {month: 'short'});
                        payload.items[i].date = start.toLocaleDateString([], {day: '2-digit'});
                        payload.items[i].startTime = start.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', hour12: false});
                        payload.items[i].endTime = end.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', hour12: false});
                        //Mustache render
                        let content = Mustache.render($("#upcoming-events-template").html(), {"data": payload.items});
                        $("#upcoming-events").html(content);
                    }
                }
            },
            error: function () {
                console.log("Error occurred while loading upcoming events");
                $("#section-events").hide();
            }
        });
    }

    //function to load profile data
    function loadProfiles() {
        $.ajax({
            type: 'get',
            url: 'speakers.json',
            dataType: 'json',
            success: function (data) {

                //slice array to two parts
                if (data.length >= 8) {
                    let partOne = data.slice(0, 8);
                    let partTwo = data.slice(8);

                    //mustache render - part one
                    let contentPartOne = Mustache.render($("#templateTeam").html(), {"data": partOne});

                    //display first 8 profiles
                    $("#teamContent").html(contentPartOne);

                    //hide button
                    $("#btnShowMore").click(function () {
                        let contentPartTwo = Mustache.render($("#templateTeam").html(), {"data": partTwo});
                        $(contentPartTwo).appendTo("#teamContent").hide().fadeIn(1000);
                        $("#btnShowMore").hide();
                    });
                } else {
                    //mustache render
                    let content = Mustache.render($("#templateTeam").html(), {"data": data});

                    //display first 8 profiles
                    $("#teamContent").html(content);

                    //hide button
                    $("#btnShowMore").hide();
                }
            }
        });
    }
</script>
</html>
